<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    
    <title>Read, Write, Update, Delete Data Firebase using JavaScript</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>


    <div class="container">
        <h2>Excel Promotions Sales</h2>
          <div class="form-group">
            <label for="email">Date</label>
            <input type="date" class="form-control" id = "namebox">
          </div>
          <div class="form-group">
            <label for="pwd">Production Sales</label>
            <input type="number" class="form-control" id="rollbox">
          </div>
          
          <button  class="btn btn-primary" id = "insert">Insert</button>
          <button  class="btn btn-primary" id = "select">Select</button>
          <button  class="btn btn-primary" id = "update">Update</button>
          <button  class="btn btn-primary" id = "delete">Delete</button>
    
    
          
      </div>
      
   
    <!--Firebase Libraries-->
    <script src="https://www.gstatic.com/firebasejs/8.4.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.4.3/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.4.3/firebase-database.js"></script> 

    <script id = "MainScript">

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    var firebaseConfig = {
        apiKey: "AIzaSyBVEzaWCkXMCBwKeggKoLfNjK5alA26qhk",
        authDomain: "fir-js-8342c.firebaseapp.com",
        projectId: "fir-js-8342c",
        storageBucket: "fir-js-8342c.appspot.com",
        messagingSenderId: "646569404216",
        appId: "1:646569404216:web:aa0b3f8927e851e96b03cd",
        measurementId: "G-LX5EVNEGJ2"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

// Read the Data

var nameV, rollV;

function Ready() {
    
    nameV = document.getElementById('namebox').value;
    rollV = document.getElementById('rollbox').value;

}

// Insert

document.getElementById('insert').onclick = function(){

Ready();
firebase.database().ref('student/' + nameV).set({
    NameOfStudent:nameV,
    RollNo:rollV
});

}

// Selection 

document.getElementById("select").onclick = function() {

    Ready();
    firebase.database().ref('student/' + nameV).on('value', function(snapshot) {
        document.getElementById('rollbox').value = snapshot.val().RollNo;
    });
    
}

// Update

document.getElementById('update').onclick = function(){

Ready();
firebase.database().ref('student/' + nameV).update({
    RollNo:rollV
});

}

// Delete


document.getElementById('delete').onclick = function(){

Ready();
firebase.database().ref('student/' + nameV).remove();

}

    </script>
    
</body>
</html>
